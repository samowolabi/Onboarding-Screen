<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>	
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/bootstrap.min.css" >
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/fonts.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/fontface.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/style.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialButtonIcon.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialContextMenu.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialDrawer.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialShared.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialCard.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialChip.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialButton.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialSnackBar.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialDialogBox.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialRating.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialInputChoice.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialInputTextArea.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialProgressCircle.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialDeadlineCircle.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialDeadlineCircleMega.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialText.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialLink.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialCardProgress.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialLesson.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialProgressBar.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialBarDashboard.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/animate.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialSwitch.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialOutline.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialPlaceHolder.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialInput.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/materialForm.css">
	<link rel="stylesheet" type="text/css" href="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/css/margin-helpers-compiled.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
    <!-- Modal Container
    <section class="materialLightBox">
    </section> -->

    <div class="loadingIconContainer">
        <div class="loadingIconDiv">
            <img src="logo-transparent-BG.png" alt="">
        </div>
    </div> 

    <div class="materialFloatingButtonContainer">
        <div class="materialFloatingLinkButton homeBtn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 18V15" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.07 2.81997L3.14002 8.36997C2.36002 8.98997 1.86002 10.3 2.03002 11.28L3.36002 19.24C3.60002 20.66 4.96002 21.81 6.40002 21.81H17.6C19.03 21.81 20.4 20.65 20.64 19.24L21.97 11.28C22.13 10.3 21.63 8.98997 20.86 8.36997L13.93 2.82997C12.86 1.96997 11.13 1.96997 10.07 2.81997Z" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div class="materialFloatingLinkButton">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 16.74V4.67001C22 3.47001 21.02 2.58001 19.83 2.68001H19.77C17.67 2.86001 14.48 3.93001 12.7 5.05001L12.53 5.16001C12.24 5.34001 11.76 5.34001 11.47 5.16001L11.22 5.01001C9.44 3.90001 6.26 2.84001 4.16 2.67001C2.97 2.57001 2 3.47001 2 4.66001V16.74C2 17.7 2.78 18.6 3.74 18.72L4.03 18.76C6.2 19.05 9.55 20.15 11.47 21.2L11.51 21.22C11.78 21.37 12.21 21.37 12.47 21.22C14.39 20.16 17.75 19.05 19.93 18.76L20.26 18.72C21.22 18.6 22 17.7 22 16.74Z" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 5.48999V20.49" stroke-linecap="round" stroke-linejoin="round"/><path d="M7.75 8.48999H5.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M8.5 11.49H5.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div class="materialFloatingLinkButton">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.25V15.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M7.5 5.75V18.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 3.25V20.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M16.5 5.75V18.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 8.25V15.75" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div class="materialFloatingButton">
            <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.625 13H24.375" stroke-linecap="round" stroke-linejoin="round"/><path d="M1.625 22.75H24.375" stroke-linecap="round" stroke-linejoin="round"/><path d="M1.625 3.25H24.375" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.50018 1.5L22.8629 22.5627" stroke-linecap="round" stroke-linejoin="round"/><path d="M22.8625 1.5L1.49986 22.5627" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
    </div>

    <section class="homePageSwitchAppsContainer">
    </section>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/script.js"></script>
    <script>
        

        




        // function openAppDetailsa(thisElement) {
        //     let appButtonLinkFunc = () => {
        //         if(thisElement.getAttribute('data-status') === 'locked') {
        //             return `
        //                 <button class="secondary">Read More</button>
        //                 <button onclick="loadAppIframeFunc('${thisElement.getAttribute('data-salesUrl')}')">Order Now</button>
        //             `;
        //         } else {
        //             return `
        //                 <button onclick="loadAppIframeFunc('${thisElement.getAttribute('data-salesUrl')}')">Start Learning</button></a>
        //             `;
        //         }
        //     };

        //     let appDetailsHTMLContent = `
        //         <div> 
        //             <img src="${thisElement.getAttribute('data-image')}" alt="">
        //             <div class="closeModal" onclick="showHideModal('close')">
        //                 <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.5 1.5L22.8627 22.5627" stroke-linecap="round" stroke-linejoin="round"/><path d="M22.8623 1.5L1.49961 22.5627" stroke-linecap="round" stroke-linejoin="round"/></svg>
        //             </div>
        //             <div class="content">
        //                 <h3>${thisElement.getAttribute('data-title')}</h3>
        //                 <h5>${thisElement.getAttribute('data-subtitle')}</h5>
        //                 <p>
        //                     ${thisElement.getAttribute('data-description') !== 'undefined' ? thisElement.getAttribute('data-description') : ''}
        //                 </p>
        //                 <div class="buttonGroup">${appButtonLinkFunc()}</div>
        //             </div>
        //         </div>
        //     `;
        //     document.querySelector('.materialLightBox').innerHTML = appDetailsHTMLContent
        //     showHideModal('open');
        // }

        

        

        
	</script>
	
	
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/jquery-latest.min.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/polyfills.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/ripplet.js@0.1.13.js"></script>

	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/hammer.min.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialShared.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialHistory.js"></script>

	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialComponent.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialButton.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialSnackBar.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialDrawer.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialRating.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialDialog.js"></script>
	<script type="text/javascript" src="https://learn.pianoencyclopedia.com/hydra/HydraCreator/live-editor/modules-assets/app-generic/js/materialInputChoice.js"></script>
	
    <script>
            let openLightBox = (htmlContent) => {
                dialogRewardPointsAdded.init = function(thisComponent) {
                    thisComponent.html(htmlContent);
                }
                //Show dialog
                materialDialog.show("dialogRewardPointsAdded", {});
            }

            let openAppDetails = (thisElement) => {
                let htmlContent = `
                    <section class="materialLightBox">
                        <div> 
                            <img src="${thisElement.getAttribute('data-image')}" alt="">
                            <div class="content">
                                <h3>${thisElement.getAttribute('data-title')}</h3>
                                <h5>${thisElement.getAttribute('data-subtitle')}</h5>
                                <p>
                                    ${thisElement.getAttribute('data-description') !== 'undefined' ? thisElement.getAttribute('data-description') : ''}
                                </p>
                            </div>
                        </div>
                    </section>
                `;
                openLightBox(htmlContent);
            }

            //Create dialog dynamically
            $('<div id="dialogRewardPointsAdded" class="materialDialog" data-on-init-callback="dialogRewardPointsAdded.init(thisComponent)"></div>').appendTo('body');
            var dialogRewardPointsAdded = {}; 
            
            
            // Go Home
            document.querySelector('.materialFloatingButtonContainer .homeBtn').addEventListener('click', function(event) {
                // Call Ajax Function to fetch Apps Content
                callAjaxFunc(formData, renderAppCallBack);
            });

            // Load App iframe
            function loadAppIframeFunc(iframeURL) {
                showHideModal('close'); // Hide Modal
                let parentSelectorContainer = 'homePageSwitchAppsContainer';
                showHideLoader('open'); // Show Loader

                let htmlContent = `
                    <iframe src="${iframeURL}" title="The Piano Encyclopedia Global App"></iframe>
                `;
                document.querySelector('.' + parentSelectorContainer).innerHTML = htmlContent;

                document.querySelector('.' + parentSelectorContainer + ' iframe').onload = () => {
                    showHideLoader('close'); // Hide Loader
                };
            }
    

        // Render App UI
        let renderAppFunc = (appJSONData) => {
            let parentSelectorContainer = 'homePageSwitchAppsContainer';

            // Apps
            let appDivContent = ``;
            appJSONData.home.apps.forEach(function(value) {
                function disabledDiv() {
                    return value.status === 'disabled' ? ['disabled', ''] : ['', 'onclick="openAppDetails(this)"'];
                }
                function visibleDiv() {
                    return value.visible ? '' : 'hide';
                }
                function statusDiv() {
                    return value.status === 'locked' ? 'locked' : '';
                }
                function highlightedDiv() {
                    return value.highlight  ? 'highlighted' : '';
                }

                appDivContent += `
                    <div id="${value.url}" data-button="" class="${visibleDiv()} ${statusDiv()} ${highlightedDiv()} ${disabledDiv()[0]}" ${disabledDiv()[1]} data-image="${value.image}" data-title="${value.title}" data-subtitle="${value.subtitle}" data-description="${value.description}" data-salesUrl="${value.salesUrl}" data-status="${value.status}">
                        <img src="${value.image}" alt="">
                        <h3>${value.title}</h3>
                    </div>
                `;
            }); 

            let htmlContent = `
                <div><h2>${appJSONData.home.title}</h2></div>
                <div class="elementSeparatorOrnament"><img src="assets/img/Separator.min.png" alt=""></div>
                <div class="homePageSwitchAppsDiv">${appDivContent}</div>
            `;
            document.querySelector('.' + parentSelectorContainer).innerHTML = htmlContent;
            showHideLoader('close'); // Hide Loader
        }

        let renderAppCallBack = (response) => {
            response = JSON.parse(response);
            
            // Render App UI
            renderAppFunc(response);
			material.init($("body"));
		}

        let formData = {
            "url": window.location.href,
            "referrer": document.referrer, 
            "hs_uid": (localStorage.getItem('hs_uid') || ""), 
            "hs_uidh": (localStorage.getItem('hs_uidh') || "")
        }

        // Call Ajax Function to fetch Apps Content
        callAjaxFunc(formData, renderAppCallBack);
    </script>
</body>
</html>